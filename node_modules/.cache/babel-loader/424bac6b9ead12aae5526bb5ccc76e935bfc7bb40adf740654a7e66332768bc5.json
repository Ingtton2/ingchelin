{"ast":null,"code":"import React,{useState}from'react';import{useAuth}from'../context/AuthContext';import{useFavorites}from'../context/FavoriteContext';import'./RestaurantDetailModal.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const RestaurantDetailModal=_ref=>{let{restaurant,onClose,onRating}=_ref;const{currentUser}=useAuth();const{addToFavorites,removeFromFavorites,isInFavorites}=useFavorites();const[isDragging,setIsDragging]=useState(false);const[dragOffset,setDragOffset]=useState({x:0,y:0});const[modalPosition,setModalPosition]=useState({x:0,y:0});// 드래그 이벤트 핸들러\nconst handleMouseDown=e=>{setIsDragging(true);const rect=e.currentTarget.getBoundingClientRect();setDragOffset({x:e.clientX-rect.left,y:e.clientY-rect.top});};const handleMouseMove=e=>{if(isDragging){setModalPosition({x:e.clientX-dragOffset.x,y:e.clientY-dragOffset.y});}};const handleMouseUp=()=>{setIsDragging(false);};const getCategoryIcon=category=>{const icons={'한식':'🍚','양식':'🍝','일식':'🍣','중식':'🥢','동남아식':'🍜','카페':'☕'};return icons[category]||'🍽️';};const renderStars=rating=>{const stars=[];for(let i=1;i<=5;i++){stars.push(/*#__PURE__*/_jsx(\"span\",{className:`star ${i<=rating?'filled':''}`,children:\"\\u2605\"},i));}return stars;};if(!restaurant)return null;return/*#__PURE__*/_jsx(\"div\",{className:\"modal-overlay\",onClick:onClose,children:/*#__PURE__*/_jsxs(\"div\",{className:\"modal-content\",onClick:e=>e.stopPropagation(),style:{transform:`translate(${modalPosition.x}px, ${modalPosition.y}px)`},onMouseDown:handleMouseDown,onMouseMove:handleMouseMove,onMouseUp:handleMouseUp,onMouseLeave:handleMouseUp,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"modal-header\",children:[/*#__PURE__*/_jsx(\"h2\",{children:restaurant.name}),/*#__PURE__*/_jsx(\"button\",{className:\"close-btn\",onClick:onClose,children:\"\\u2715\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"modal-body\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"restaurant-info-detail\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"info-row\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"info-label\",children:\"\\uCE74\\uD14C\\uACE0\\uB9AC:\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"info-value\",children:[getCategoryIcon(restaurant.category),\" \",restaurant.category]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"info-row\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"info-label\",children:\"\\uD3C9\\uC810:\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"info-value\",children:[renderStars(restaurant.rating),restaurant.rating,\" (\",restaurant.totalRatings||0,\"\\uAC1C \\uB9AC\\uBDF0)\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"info-row\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"info-label\",children:\"\\uC8FC\\uC18C:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"info-value\",children:restaurant.address})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"info-row\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"info-label\",children:\"\\uAC00\\uACA9\\uB300:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"info-value\",children:restaurant.price})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"info-row\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"info-label\",children:\"\\uC601\\uC5C5\\uC2DC\\uAC04:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"info-value\",children:restaurant.businessHours})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"info-row\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"info-label\",children:\"\\uC804\\uD654\\uBC88\\uD638:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"info-value\",children:restaurant.phone})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"info-row\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"info-label\",children:\"\\uC8FC\\uCC28:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"info-value\",children:restaurant.parking})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"info-row\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"info-label\",children:\"\\uC124\\uBA85:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"info-value\",children:restaurant.description})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"modal-actions\",children:/*#__PURE__*/_jsx(\"button\",{className:`favorite-btn ${isInFavorites(restaurant.id)?'favorited':''}`,onClick:()=>{if(isInFavorites(restaurant.id)){removeFromFavorites(restaurant.id);alert('찜 목록에서 제거되었습니다! 👋');}else{addToFavorites(restaurant);alert('찜 목록에 추가되었습니다! 🎉');}onClose();},children:isInFavorites(restaurant.id)?'❤️ 찜됨':'🤍 찜하기'})})]})]})});};export default RestaurantDetailModal;","map":{"version":3,"names":["React","useState","useAuth","useFavorites","jsx","_jsx","jsxs","_jsxs","RestaurantDetailModal","_ref","restaurant","onClose","onRating","currentUser","addToFavorites","removeFromFavorites","isInFavorites","isDragging","setIsDragging","dragOffset","setDragOffset","x","y","modalPosition","setModalPosition","handleMouseDown","e","rect","currentTarget","getBoundingClientRect","clientX","left","clientY","top","handleMouseMove","handleMouseUp","getCategoryIcon","category","icons","renderStars","rating","stars","i","push","className","children","onClick","stopPropagation","style","transform","onMouseDown","onMouseMove","onMouseUp","onMouseLeave","name","totalRatings","address","price","businessHours","phone","parking","description","id","alert"],"sources":["/Users/ingtto/Documents/GitHub/ingchelin/src/components/RestaurantDetailModal.js"],"sourcesContent":["import React, { useState } from 'react';\nimport { useAuth } from '../context/AuthContext';\nimport { useFavorites } from '../context/FavoriteContext';\nimport './RestaurantDetailModal.css';\n\nconst RestaurantDetailModal = ({ restaurant, onClose, onRating }) => {\n  const { currentUser } = useAuth();\n  const { addToFavorites, removeFromFavorites, isInFavorites } = useFavorites();\n  const [isDragging, setIsDragging] = useState(false);\n  const [dragOffset, setDragOffset] = useState({ x: 0, y: 0 });\n  const [modalPosition, setModalPosition] = useState({ x: 0, y: 0 });\n\n  // 드래그 이벤트 핸들러\n  const handleMouseDown = (e) => {\n    setIsDragging(true);\n    const rect = e.currentTarget.getBoundingClientRect();\n    setDragOffset({\n      x: e.clientX - rect.left,\n      y: e.clientY - rect.top\n    });\n  };\n\n  const handleMouseMove = (e) => {\n    if (isDragging) {\n      setModalPosition({\n        x: e.clientX - dragOffset.x,\n        y: e.clientY - dragOffset.y\n      });\n    }\n  };\n\n  const handleMouseUp = () => {\n    setIsDragging(false);\n  };\n\n  const getCategoryIcon = (category) => {\n    const icons = {\n      '한식': '🍚',\n      '양식': '🍝',\n      '일식': '🍣',\n      '중식': '🥢',\n      '동남아식': '🍜',\n      '카페': '☕'\n    };\n    return icons[category] || '🍽️';\n  };\n\n  const renderStars = (rating) => {\n    const stars = [];\n    for (let i = 1; i <= 5; i++) {\n      stars.push(\n        <span key={i} className={`star ${i <= rating ? 'filled' : ''}`}>\n          ★\n        </span>\n      );\n    }\n    return stars;\n  };\n\n  if (!restaurant) return null;\n\n  return (\n    <div className=\"modal-overlay\" onClick={onClose}>\n      <div \n        className=\"modal-content\" \n        onClick={(e) => e.stopPropagation()}\n        style={{\n          transform: `translate(${modalPosition.x}px, ${modalPosition.y}px)`\n        }}\n        onMouseDown={handleMouseDown}\n        onMouseMove={handleMouseMove}\n        onMouseUp={handleMouseUp}\n        onMouseLeave={handleMouseUp}\n      >\n        <div className=\"modal-header\">\n          <h2>{restaurant.name}</h2>\n          <button className=\"close-btn\" onClick={onClose}>✕</button>\n        </div>\n        \n        <div className=\"modal-body\">\n          <div className=\"restaurant-info-detail\">\n            <div className=\"info-row\">\n              <span className=\"info-label\">카테고리:</span>\n              <span className=\"info-value\">{getCategoryIcon(restaurant.category)} {restaurant.category}</span>\n            </div>\n            \n            <div className=\"info-row\">\n              <span className=\"info-label\">평점:</span>\n              <span className=\"info-value\">\n                {renderStars(restaurant.rating)}\n                {restaurant.rating} ({restaurant.totalRatings || 0}개 리뷰)\n              </span>\n            </div>\n            \n            <div className=\"info-row\">\n              <span className=\"info-label\">주소:</span>\n              <span className=\"info-value\">{restaurant.address}</span>\n            </div>\n            \n            <div className=\"info-row\">\n              <span className=\"info-label\">가격대:</span>\n              <span className=\"info-value\">{restaurant.price}</span>\n            </div>\n            \n            <div className=\"info-row\">\n              <span className=\"info-label\">영업시간:</span>\n              <span className=\"info-value\">{restaurant.businessHours}</span>\n            </div>\n            \n            <div className=\"info-row\">\n              <span className=\"info-label\">전화번호:</span>\n              <span className=\"info-value\">{restaurant.phone}</span>\n            </div>\n            \n            <div className=\"info-row\">\n              <span className=\"info-label\">주차:</span>\n              <span className=\"info-value\">{restaurant.parking}</span>\n            </div>\n            \n            <div className=\"info-row\">\n              <span className=\"info-label\">설명:</span>\n              <span className=\"info-value\">{restaurant.description}</span>\n            </div>\n          </div>\n\n          <div className=\"modal-actions\">\n            <button\n              className={`favorite-btn ${isInFavorites(restaurant.id) ? 'favorited' : ''}`}\n              onClick={() => {\n                if (isInFavorites(restaurant.id)) {\n                  removeFromFavorites(restaurant.id);\n                  alert('찜 목록에서 제거되었습니다! 👋');\n                } else {\n                  addToFavorites(restaurant);\n                  alert('찜 목록에 추가되었습니다! 🎉');\n                }\n                onClose();\n              }}\n            >\n              {isInFavorites(restaurant.id) ? '❤️ 찜됨' : '🤍 찜하기'}\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default RestaurantDetailModal; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}