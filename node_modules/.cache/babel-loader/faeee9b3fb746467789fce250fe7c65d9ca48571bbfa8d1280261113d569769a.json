{"ast":null,"code":"var _jsxFileName = \"/Users/ingtto/Documents/GitHub/ingchelin/src/pages/Map.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { useFavorites } from '../context/FavoriteContext';\nimport { useVisit } from '../context/VisitContext';\nimport { useSearchParams } from 'react-router-dom';\nimport RestaurantDetailModal from '../components/RestaurantDetailModal';\nimport { supabase } from '../services/supabase';\nimport { restaurantData } from '../data/restaurantData';\nimport './Map.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction KakaoMap() {\n  _s();\n  const [restaurants, setRestaurants] = useState([]);\n  const [selectedRestaurant, setSelectedRestaurant] = useState(null);\n  const {\n    addToFavorites,\n    removeFromFavorites,\n    isInFavorites\n  } = useFavorites();\n  const {\n    getRestaurantVisitStatus,\n    setRestaurantVisitStatus\n  } = useVisit();\n  const [mapLoaded, setMapLoaded] = useState(false);\n  const [userLocation, setUserLocation] = useState(null);\n  const [nearbyRestaurants, setNearbyRestaurants] = useState([]);\n  const [userMarker, setUserMarker] = useState(null);\n  const [isLoadingLocation, setIsLoadingLocation] = useState(false);\n  const [searchParams] = useSearchParams();\n  const [mapInstance, setMapInstance] = useState(null);\n\n  // ìƒˆë¡œìš´ ìƒíƒœë“¤\n  const [searchQuery, setSearchQuery] = useState('');\n  const [selectedCategories, setSelectedCategories] = useState(['í•œì‹', 'ì¤‘ì‹', 'ì¼ì‹', 'ì–‘ì‹', 'ë¶„ì‹', 'íƒœêµ­', 'ìˆ ', 'ì¹´í˜', 'ë””ì €íŠ¸']);\n  const [filteredRestaurants, setFilteredRestaurants] = useState([]);\n\n  // ë§ˆì»¤ ìƒíƒœ ì¶”ê°€\n  const [markers, setMarkers] = useState([]);\n  const [labels, setLabels] = useState([]);\n\n  // ë¯¸ë‹ˆ íŒì—… ìƒíƒœ ì¶”ê°€\n  const [miniPopup, setMiniPopup] = useState(null);\n  const [popupPosition, setPopupPosition] = useState({\n    x: 0,\n    y: 0\n  });\n  const [isDragging, setIsDragging] = useState(false);\n  const [dragOffset, setDragOffset] = useState({\n    x: 0,\n    y: 0\n  });\n\n  // ìƒì„¸ì •ë³´ ëª¨ë‹¬ ìƒíƒœ ì¶”ê°€\n  const [detailModal, setDetailModal] = useState(null);\n\n  // ë“œë˜ê·¸ ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬\n  const handleMouseDown = e => {\n    setIsDragging(true);\n    setDragOffset({\n      x: e.clientX - popupPosition.x,\n      y: e.clientY - popupPosition.y\n    });\n  };\n  const handleMouseMove = e => {\n    if (isDragging) {\n      setPopupPosition({\n        x: e.clientX - dragOffset.x,\n        y: e.clientY - dragOffset.y\n      });\n    }\n  };\n  const handleMouseUp = () => {\n    setIsDragging(false);\n  };\n\n  // ì¹´í…Œê³ ë¦¬ ì˜µì…˜\n  const categories = ['í•œì‹', 'ì¤‘ì‹', 'ì¼ì‹', 'ì–‘ì‹', 'ë¶„ì‹', 'íƒœêµ­', 'ìˆ ', 'ì¹´í˜', 'ë””ì €íŠ¸'];\n\n  // Supabaseì—ì„œ ë ˆìŠ¤í† ë‘ ë°ì´í„° ê°€ì ¸ì˜¤ê¸°\n  const fetchRestaurants = async () => {\n    try {\n      // Supabaseì—ì„œ ë ˆìŠ¤í† ë‘ ë°ì´í„° ê°€ì ¸ì˜¤ê¸°\n      const {\n        data,\n        error\n      } = await supabase.from('restaurants').select('*');\n      if (error) {\n        console.warn('Supabase ì—°ê²° ì‹¤íŒ¨, ê¸°ë³¸ ë°ì´í„° ì‚¬ìš©:', error);\n        // ê¸°ë³¸ ë°ì´í„° ë°˜í™˜\n        const defaultData = restaurantData.map(restaurant => ({\n          id: restaurant.id,\n          name: restaurant.name,\n          category: restaurant.category,\n          rating: restaurant.rating,\n          address: restaurant.address,\n          description: restaurant.description,\n          price: restaurant.price || \"1ë§Œì›~3ë§Œì›\",\n          position: {\n            lat: restaurant.position.lat,\n            lng: restaurant.position.lng\n          },\n          businessHours: restaurant.hours || \"11:00 - 22:00\",\n          phone: restaurant.phone || \"02-0000-0000\",\n          parking: restaurant.parking || \"ì£¼ì°¨ ê°€ëŠ¥\"\n        }));\n        setRestaurants(defaultData);\n        setFilteredRestaurants(defaultData);\n        return;\n      }\n\n      // Supabase ë°ì´í„°ê°€ ìˆìœ¼ë©´ ì‚¬ìš©, ì—†ìœ¼ë©´ ê¸°ë³¸ ë°ì´í„° ì‚¬ìš©\n      if (data && data.length > 0) {\n        console.log('Supabase ë°ì´í„° ì‚¬ìš©:', data.length, 'ê°œ ë ˆìŠ¤í† ë‘');\n        const formattedData = data.map(restaurant => ({\n          id: restaurant.id,\n          name: restaurant.name,\n          category: restaurant.cuisine || restaurant.category,\n          rating: restaurant.rating || 4.0,\n          address: restaurant.address,\n          description: restaurant.description || `${restaurant.cuisine || restaurant.category} ì „ë¬¸ì ì…ë‹ˆë‹¤.`,\n          price: restaurant.price || \"1ë§Œì›~3ë§Œì›\",\n          position: {\n            lat: restaurant.latitude || 37.5665,\n            lng: restaurant.longitude || 126.9780\n          },\n          businessHours: restaurant.businessHours || \"11:00 - 22:00\",\n          phone: restaurant.phone || \"02-0000-0000\",\n          parking: restaurant.parking ? \"ì£¼ì°¨ ê°€ëŠ¥\" : \"ì£¼ì°¨ ë¶ˆê°€\"\n        }));\n        setRestaurants(formattedData);\n        setFilteredRestaurants(formattedData);\n      } else {\n        console.log('Supabase ë°ì´í„° ì—†ìŒ, ê¸°ë³¸ ë°ì´í„° ì‚¬ìš©');\n        const defaultData = restaurantData.map(restaurant => ({\n          id: restaurant.id,\n          name: restaurant.name,\n          category: restaurant.category,\n          rating: restaurant.rating,\n          address: restaurant.address,\n          description: restaurant.description,\n          price: restaurant.price || \"1ë§Œì›~3ë§Œì›\",\n          position: {\n            lat: restaurant.position.lat,\n            lng: restaurant.position.lng\n          },\n          businessHours: restaurant.hours || \"11:00 - 22:00\",\n          phone: restaurant.phone || \"02-0000-0000\",\n          parking: restaurant.parking || \"ì£¼ì°¨ ê°€ëŠ¥\"\n        }));\n        setRestaurants(defaultData);\n        setFilteredRestaurants(defaultData);\n      }\n    } catch (error) {\n      console.warn('API í˜¸ì¶œ ì‹¤íŒ¨, ê¸°ë³¸ ë°ì´í„° ì‚¬ìš©:', error);\n      const defaultData = restaurantData.map(restaurant => ({\n        id: restaurant.id,\n        name: restaurant.name,\n        category: restaurant.category,\n        rating: restaurant.rating,\n        address: restaurant.address,\n        description: restaurant.description,\n        price: restaurant.price || \"1ë§Œì›~3ë§Œì›\",\n        position: {\n          lat: restaurant.position.lat,\n          lng: restaurant.position.lng\n        },\n        businessHours: restaurant.hours || \"11:00 - 22:00\",\n        phone: restaurant.phone || \"02-0000-0000\",\n        parking: restaurant.parking || \"ì£¼ì°¨ ê°€ëŠ¥\"\n      }));\n      setRestaurants(defaultData);\n      setFilteredRestaurants(defaultData);\n    }\n  };\n\n  // ì»´í¬ë„ŒíŠ¸ ë§ˆìš´íŠ¸ ì‹œ ë°ì´í„° ê°€ì ¸ì˜¤ê¸°\n  useEffect(() => {\n    fetchRestaurants();\n  }, []);\n\n  // ê²€ìƒ‰ ë° í•„í„°ë§ í•¨ìˆ˜\n  useEffect(() => {\n    let filtered = restaurants;\n\n    // ê²€ìƒ‰ì–´ í•„í„°ë§\n    if (searchQuery.trim()) {\n      filtered = filtered.filter(restaurant => restaurant.name.toLowerCase().includes(searchQuery.toLowerCase()) || restaurant.address.toLowerCase().includes(searchQuery.toLowerCase()) || restaurant.category.toLowerCase().includes(searchQuery.toLowerCase()));\n    }\n\n    // ì¹´í…Œê³ ë¦¬ í•„í„°ë§\n    filtered = filtered.filter(restaurant => selectedCategories.includes(restaurant.category));\n    setFilteredRestaurants(filtered);\n  }, [restaurants, searchQuery, selectedCategories]);\n\n  // ë§ˆì»¤ ì—…ë°ì´íŠ¸ í•¨ìˆ˜\n  const updateMapMarkers = restaurantsToShow => {\n    if (!mapInstance) return;\n\n    // ê¸°ì¡´ ë§ˆì»¤ì™€ ë¼ë²¨ ì œê±°\n    markers.forEach(marker => marker.setMap(null));\n    labels.forEach(label => label.setMap(null));\n    const newMarkers = [];\n    const newLabels = [];\n\n    // ìƒˆë¡œìš´ ë§ˆì»¤ì™€ ë¼ë²¨ ì¶”ê°€\n    restaurantsToShow.forEach(restaurant => {\n      // ë§ˆì»¤ ìƒ‰ìƒ ê²°ì •\n      let markerColor = '#FF6B6B'; // ê¸°ë³¸ ìƒ‰ìƒ\n      let markerIcon = getCategoryIcon(restaurant.category);\n\n      // ìƒíƒœë³„ ìƒ‰ìƒ ì ìš©\n      if (isInFavorites(restaurant.id)) {\n        markerColor = '#FF3B30'; // ì°œí•œ ë§›ì§‘ - ë¹¨ê°„ìƒ‰\n      } else {\n        const visitStatus = getRestaurantVisitStatus(restaurant.id);\n        if (visitStatus === 'liked') {\n          markerColor = '#007AFF'; // ë°©ë¬¸í•œ ê³³ (ì¢‹ì•˜ë˜ ê³³) - íŒŒë€ìƒ‰\n        } else if (visitStatus === 'disliked') {\n          markerColor = '#8E8E93'; // ë°©ë¬¸í•œ ê³³ (ë³„ë¡œì¸ ê³³) - íšŒìƒ‰\n        }\n      }\n\n      // ì¹´í…Œê³ ë¦¬ë³„ ì•„ì´ì½˜ê³¼ ìƒ‰ìƒìœ¼ë¡œ ë§ˆì»¤ ìƒì„±\n      const marker = new window.kakao.maps.Marker({\n        position: new window.kakao.maps.LatLng(restaurant.position.lat, restaurant.position.lng),\n        image: new window.kakao.maps.MarkerImage(createMarkerImage(markerColor, markerIcon), new window.kakao.maps.Size(40, 40))\n      });\n      marker.setMap(mapInstance);\n      newMarkers.push(marker);\n\n      // ë§ˆì»¤ ìœ„ì— ì‹ë‹¹ ì´ë¦„ë§Œ í‘œì‹œí•˜ëŠ” ì»¤ìŠ¤í…€ ì˜¤ë²„ë ˆì´\n      const content = `\n        <div class=\"marker-label\">\n          <div class=\"marker-label-content\">\n            ${restaurant.name}\n          </div>\n        </div>\n      `;\n      const label = new window.kakao.maps.CustomOverlay({\n        content: content,\n        position: new window.kakao.maps.LatLng(restaurant.position.lat, restaurant.position.lng),\n        xAnchor: 0.5,\n        yAnchor: 1.5\n      });\n      label.setMap(mapInstance);\n      newLabels.push(label);\n\n      // ë§ˆì»¤ í´ë¦­ ì´ë²¤íŠ¸\n      window.kakao.maps.event.addListener(marker, 'click', () => {\n        setSelectedRestaurant(restaurant);\n\n        // ë¯¸ë‹ˆ íŒì—… í‘œì‹œ - ì§€ë„ ì»¨í…Œì´ë„ˆ ë‚´ ìƒëŒ€ì  ìœ„ì¹˜ë¡œ ê³„ì‚°\n        const position = new window.kakao.maps.LatLng(restaurant.position.lat, restaurant.position.lng);\n        const projection = mapInstance.getProjection();\n        const point = projection.pointFromCoords(position);\n        setMiniPopup(restaurant);\n        setPopupPosition({\n          x: point.x,\n          y: point.y - 80 // ë§ˆì»¤ ìœ„ì— í‘œì‹œ\n        });\n      });\n    });\n    setMarkers(newMarkers);\n    setLabels(newLabels);\n  };\n\n  // ë§ˆì»¤ ì´ë¯¸ì§€ ìƒì„± í•¨ìˆ˜\n  const createMarkerImage = (color, icon) => {\n    const canvas = document.createElement('canvas');\n    canvas.width = 40;\n    canvas.height = 40;\n    const ctx = canvas.getContext('2d');\n\n    // ì›í˜• ë°°ê²½ ê·¸ë¦¬ê¸°\n    ctx.beginPath();\n    ctx.arc(20, 20, 18, 0, 2 * Math.PI);\n    ctx.fillStyle = color;\n    ctx.fill();\n    ctx.strokeStyle = 'white';\n    ctx.lineWidth = 2;\n    ctx.stroke();\n\n    // ì•„ì´ì½˜ í…ìŠ¤íŠ¸ ê·¸ë¦¬ê¸°\n    ctx.fillStyle = 'white';\n    ctx.font = '16px Arial';\n    ctx.textAlign = 'center';\n    ctx.textBaseline = 'middle';\n    ctx.fillText(icon, 20, 20);\n    return canvas.toDataURL();\n  };\n\n  // í•„í„°ë§ëœ ë ˆìŠ¤í† ë‘ì´ ë³€ê²½ë  ë•Œ ë§ˆì»¤ ì—…ë°ì´íŠ¸\n  useEffect(() => {\n    if (mapLoaded && mapInstance) {\n      updateMapMarkers(filteredRestaurants);\n\n      // URL íŒŒë¼ë¯¸í„°ë¡œ íŠ¹ì • ì‹ë‹¹ì´ ì§€ì •ëœ ê²½ìš° í•´ë‹¹ ì‹ë‹¹ ì •ë³´ í‘œì‹œ\n      const restaurantId = searchParams.get('restaurantId');\n      if (restaurantId) {\n        const selectedRestaurant = filteredRestaurants.find(restaurant => restaurant.id.toString() === restaurantId);\n        if (selectedRestaurant) {\n          setTimeout(() => {\n            setSelectedRestaurant(selectedRestaurant);\n          }, 1000);\n        }\n      }\n    }\n  }, [filteredRestaurants, mapLoaded, mapInstance, searchParams]);\n\n  // ì¹´í…Œê³ ë¦¬ í† ê¸€ í•¨ìˆ˜\n  const toggleCategory = category => {\n    setSelectedCategories(prev => prev.includes(category) ? prev.filter(c => c !== category) : [...prev, category]);\n  };\n\n  // ëª¨ë“  ì¹´í…Œê³ ë¦¬ í† ê¸€ í•¨ìˆ˜\n  const toggleAllCategories = () => {\n    setSelectedCategories(selectedCategories.length === categories.length ? [] : categories);\n  };\n\n  // ê²€ìƒ‰ì–´ ì´ˆê¸°í™” í•¨ìˆ˜\n  const clearSearch = () => {\n    setSearchQuery('');\n  };\n\n  // ì¹´í…Œê³ ë¦¬ ì•„ì´ì½˜ ë°˜í™˜ í•¨ìˆ˜\n  const getCategoryIcon = category => {\n    const icons = {\n      'í•œì‹': 'ğŸš',\n      'ì–‘ì‹': 'ğŸ',\n      'ì¼ì‹': 'ğŸ£',\n      'ì¤‘ì‹': 'ğŸ¥¢',\n      'ì¹´í˜': 'â˜•',\n      'ë””ì €íŠ¸': 'ğŸ°',\n      'ë¶„ì‹': 'ğŸ¡',\n      'ìˆ ': 'ğŸº',\n      'íƒœêµ­': 'ğŸœ'\n    };\n    return icons[category] || 'ğŸ½ï¸';\n  };\n\n  // ì¹´ì¹´ì˜¤ë§µ ì´ˆê¸°í™” í•¨ìˆ˜\n  const initKakaoMap = () => {\n    console.log('ğŸ” ì¹´ì¹´ì˜¤ë§µ ì´ˆê¸°í™” ì‹œì‘');\n    console.log('ğŸ“ í˜„ì¬ URL:', window.location.href);\n    console.log('ğŸŒ ì¹´ì¹´ì˜¤ë§µ API í‚¤:', process.env.REACT_APP_KAKAO_MAP_API_KEY ? 'ì„¤ì •ë¨' : 'ì„¤ì •ë˜ì§€ ì•ŠìŒ');\n\n    // ì¹´ì¹´ì˜¤ë§µ API ë¡œë“œ í™•ì¸\n    if (window.kakao && window.kakao.maps) {\n      console.log('âœ… ì¹´ì¹´ì˜¤ë§µ API ë¡œë“œë¨');\n      const container = document.getElementById('map');\n      if (!container) {\n        console.error('âŒ ì§€ë„ ì»¨í…Œì´ë„ˆë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.');\n        return;\n      }\n      console.log('âœ… ì§€ë„ ì»¨í…Œì´ë„ˆ ì°¾ìŒ');\n\n      // ì‚¬ìš©ì ìœ„ì¹˜ ê°€ì ¸ì˜¤ê¸°\n      if (navigator.geolocation) {\n        console.log('ğŸ“ ìœ„ì¹˜ ì •ë³´ ìš”ì²­ ì‹œì‘');\n        navigator.geolocation.getCurrentPosition(position => {\n          const {\n            latitude,\n            longitude\n          } = position.coords;\n          console.log('âœ… ì‚¬ìš©ì ìœ„ì¹˜ íšë“:', latitude, longitude);\n          try {\n            // ì‚¬ìš©ì ìœ„ì¹˜ë¡œ ì§€ë„ ì´ˆê¸°í™”\n            const options = {\n              center: new window.kakao.maps.LatLng(latitude, longitude),\n              level: 6\n            };\n            const map = new window.kakao.maps.Map(container, options);\n            setMapInstance(map);\n            setMapLoaded(true);\n            setUserLocation({\n              lat: latitude,\n              lng: longitude\n            });\n\n            // ì‚¬ìš©ì ìœ„ì¹˜ ë§ˆì»¤ ì¶”ê°€\n            const userMarker = new window.kakao.maps.Marker({\n              position: new window.kakao.maps.LatLng(latitude, longitude),\n              image: new window.kakao.maps.MarkerImage('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTEyIDJDNi40OCAyIDIgNi40OCAyIDEyQzIgMTcuNTIgNi40OCAyMiAxMiAyMkMxNy41MiAyMiAyMiAxNy41MiAyMiAxMkMyMiA2LjQ4IDE3LjUyIDIgMTIgMlpNMTIgMjBDNy41OSAyMCA0IDE2LjQxIDQgMTJDNCA3LjU5IDcuNTkgNCAxMiA0QzE2LjQxIDQgMjAgNy41OSAyMCAxMkMyMCAxNi40MSAxNi40MSAyMCAxMiAyMFoiIGZpbGw9IiM2Njc5ZWEiLz4KPHBhdGggZD0iTTEyIDZDNi40OCA2IDIgMTAuNDggMiAxNkMyIDIxLjUyIDYuNDggMjYgMTIgMjZDNy41OSAyNiA0IDIyLjQxIDQgMThDNCAxMy41OSA3LjU5IDEwIDEyIDEwQzE2LjQxIDEwIDIwIDEzLjU5IDIwIDE4QzIwIDIyLjQxIDE2LjQxIDI2IDEyIDI2WiIgZmlsbD0iIzY2NzllYSIvPgo8L3N2Zz4K', new window.kakao.maps.Size(30, 30))\n            });\n            userMarker.setMap(map);\n            setUserMarker(userMarker);\n            console.log('ğŸ‰ ì¹´ì¹´ì˜¤ë§µ ì´ˆê¸°í™” ì™„ë£Œ (ì‚¬ìš©ì ìœ„ì¹˜ ê¸°ë°˜)');\n          } catch (error) {\n            console.error('âŒ ì¹´ì¹´ì˜¤ë§µ ì´ˆê¸°í™” ì˜¤ë¥˜:', error);\n            // ì—ëŸ¬ ë°œìƒ ì‹œ ê¸°ë³¸ ìœ„ì¹˜ë¡œ ì´ˆê¸°í™”\n            initKakaoMapWithDefaultLocation();\n          }\n        }, error => {\n          console.log('âŒ ìœ„ì¹˜ ì •ë³´ë¥¼ ê°€ì ¸ì˜¬ ìˆ˜ ì—†ìŠµë‹ˆë‹¤:', error);\n          // ìœ„ì¹˜ ì •ë³´ë¥¼ ê°€ì ¸ì˜¬ ìˆ˜ ì—†ìœ¼ë©´ ê¸°ë³¸ ìœ„ì¹˜ë¡œ ì´ˆê¸°í™”\n          initKakaoMapWithDefaultLocation();\n        }, {\n          enableHighAccuracy: true,\n          timeout: 10000,\n          maximumAge: 300000 // 5ë¶„\n        });\n      } else {\n        console.log('âŒ ìœ„ì¹˜ ì •ë³´ë¥¼ ì§€ì›í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤');\n        // ìœ„ì¹˜ ì •ë³´ë¥¼ ì§€ì›í•˜ì§€ ì•Šìœ¼ë©´ ê¸°ë³¸ ìœ„ì¹˜ë¡œ ì´ˆê¸°í™”\n        initKakaoMapWithDefaultLocation();\n      }\n    } else {\n      console.error('âŒ ì¹´ì¹´ì˜¤ë§µ APIê°€ ë¡œë“œë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤.');\n      console.log('ğŸ”„ 1ì´ˆ í›„ ì¬ì‹œë„...');\n      // 1ì´ˆ í›„ ë‹¤ì‹œ ì‹œë„\n      setTimeout(initKakaoMap, 1000);\n    }\n  };\n\n  // ê¸°ë³¸ ìœ„ì¹˜ë¡œ ì§€ë„ ì´ˆê¸°í™”í•˜ëŠ” í•¨ìˆ˜\n  const initKakaoMapWithDefaultLocation = () => {\n    console.log('ğŸ“ ê¸°ë³¸ ìœ„ì¹˜ë¡œ ì§€ë„ ì´ˆê¸°í™” ì‹œì‘');\n    try {\n      const container = document.getElementById('map');\n      if (!container) {\n        console.error('âŒ ì§€ë„ ì»¨í…Œì´ë„ˆë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.');\n        return;\n      }\n      const options = {\n        center: new window.kakao.maps.LatLng(37.5665, 126.9780),\n        // ì„œìš¸ ì‹œì²­\n        level: 6\n      };\n      const map = new window.kakao.maps.Map(container, options);\n      setMapInstance(map);\n      setMapLoaded(true);\n      console.log('âœ… ì¹´ì¹´ì˜¤ë§µ ì´ˆê¸°í™” ì™„ë£Œ (ê¸°ë³¸ ìœ„ì¹˜)');\n    } catch (error) {\n      console.error('âŒ ì¹´ì¹´ì˜¤ë§µ ê¸°ë³¸ ìœ„ì¹˜ ì´ˆê¸°í™” ì˜¤ë¥˜:', error);\n      // ìµœì¢… í´ë°±: ì§€ë„ ì»¨í…Œì´ë„ˆì— ì—ëŸ¬ ë©”ì‹œì§€ í‘œì‹œ\n      const container = document.getElementById('map');\n      if (container) {\n        container.innerHTML = `\n          <div style=\"display: flex; justify-content: center; align-items: center; height: 100%; background-color: #f5f5f5; color: #666;\">\n            <div style=\"text-align: center;\">\n              <h3>ğŸ—ºï¸ ì§€ë„ë¥¼ ë¶ˆëŸ¬ì˜¬ ìˆ˜ ì—†ìŠµë‹ˆë‹¤</h3>\n              <p>ì¹´ì¹´ì˜¤ë§µ API ì—°ê²°ì— ë¬¸ì œê°€ ìˆìŠµë‹ˆë‹¤.</p>\n              <p>Vercel í™˜ê²½ì—ì„œ API í‚¤ ì„¤ì •ì„ í™•ì¸í•´ì£¼ì„¸ìš”.</p>\n              <button onclick=\"window.location.reload()\" style=\"margin-top: 10px; padding: 8px 16px; background-color: #007bff; color: white; border: none; border-radius: 4px; cursor: pointer;\">\n                ìƒˆë¡œê³ ì¹¨\n              </button>\n            </div>\n          </div>\n        `;\n      }\n    }\n  };\n\n  // ì»´í¬ë„ŒíŠ¸ ë§ˆìš´íŠ¸ ì‹œ ì§€ë„ ì´ˆê¸°í™”\n  useEffect(() => {\n    // ì§€ë„ ì´ˆê¸°í™”\n    initKakaoMap();\n  }, []);\n\n  // ë‘ ì§€ì  ê°„ì˜ ê±°ë¦¬ ê³„ì‚° (í•˜ë²„ì‚¬ì¸ ê³µì‹)\n  const calculateDistance = (lat1, lon1, lat2, lon2) => {\n    const R = 6371; // ì§€êµ¬ì˜ ë°˜ì§€ë¦„ (km)\n    const dLat = (lat2 - lat1) * Math.PI / 180;\n    const dLon = (lon2 - lon1) * Math.PI / 180;\n    const a = Math.sin(dLat / 2) * Math.sin(dLat / 2) + Math.cos(lat1 * Math.PI / 180) * Math.cos(lat2 * Math.PI / 180) * Math.sin(dLon / 2) * Math.sin(dLon / 2);\n    const c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a));\n    const distance = R * c; // km\n    return distance;\n  };\n\n  // ì‚¬ìš©ì ìœ„ì¹˜ ê°€ì ¸ì˜¤ê¸°\n  const getUserLocation = () => {\n    if (!navigator.geolocation) {\n      alert('ì´ ë¸Œë¼ìš°ì €ì—ì„œëŠ” ìœ„ì¹˜ ì •ë³´ë¥¼ ì§€ì›í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.');\n      return;\n    }\n    setIsLoadingLocation(true);\n    navigator.geolocation.getCurrentPosition(position => {\n      const {\n        latitude,\n        longitude\n      } = position.coords;\n      const newUserLocation = {\n        lat: latitude,\n        lng: longitude\n      };\n      setUserLocation(newUserLocation);\n\n      // ì§€ë„ê°€ ë¡œë“œëœ í›„ì—ë§Œ ì¤‘ì‹¬ ì´ë™\n      if (mapInstance) {\n        // ê¸°ì¡´ ì‚¬ìš©ì ë§ˆì»¤ ì œê±°\n        if (userMarker) {\n          userMarker.setMap(null);\n        }\n\n        // ì‚¬ìš©ì ìœ„ì¹˜ë¡œ ì§€ë„ ì¤‘ì‹¬ ì´ë™\n        mapInstance.setCenter(new window.kakao.maps.LatLng(latitude, longitude));\n        mapInstance.setLevel(5);\n\n        // ìƒˆë¡œìš´ ì‚¬ìš©ì ìœ„ì¹˜ ë§ˆì»¤ ì¶”ê°€\n        const newUserMarker = new window.kakao.maps.Marker({\n          position: new window.kakao.maps.LatLng(latitude, longitude),\n          image: new window.kakao.maps.MarkerImage('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTEyIDJDNi40OCAyIDIgNi40OCAyIDEyQzIgMTcuNTIgNi40OCAyMiAxMiAyMkMxNy41MiAyMiAyMiAxNy41MiAyMiAxMkMyMiA2LjQ4IDE3LjUyIDIgMTIgMlpNMTIgMjBDNy41OSAyMCA0IDE2LjQxIDQgMTJDNCA3LjU5IDcuNTkgNCAxMiA0QzE2LjQxIDQgMjAgNy41OSAyMCAxMkMyMCAxNi40MSAxNi40MSAyMCAxMiAyMFoiIGZpbGw9IiM2Njc5ZWEiLz4KPHBhdGggZD0iTTEyIDZDNi40OCA2IDIgMTAuNDggMiAxNkMyIDIxLjUyIDYuNDggMjYgMTIgMjZDNy41OSAyNiA0IDIyLjQxIDQgMThDNCAxMy41OSA3LjU5IDEwIDEyIDEwQzE2LjQxIDEwIDIwIDEzLjU5IDIwIDE4QzIwIDIyLjQxIDE2LjQxIDI2IDEyIDI2WiIgZmlsbD0iIzY2NzllYSIvPgo8L3N2Zz4K', new window.kakao.maps.Size(30, 30))\n        });\n        newUserMarker.setMap(mapInstance);\n        setUserMarker(newUserMarker);\n      }\n\n      // ê°€ê¹Œìš´ ì‹ë‹¹ ì°¾ê¸° (3km ì´ë‚´)\n      const restaurantsWithDistance = restaurants.map(restaurant => {\n        const distance = calculateDistance(latitude, longitude, restaurant.position.lat, restaurant.position.lng);\n        return {\n          ...restaurant,\n          distance: distance\n        };\n      });\n      const nearby = restaurantsWithDistance.filter(restaurant => restaurant.distance <= 3).sort((a, b) => a.distance - b.distance);\n      setNearbyRestaurants(nearby);\n      setIsLoadingLocation(false);\n    }, error => {\n      let errorMessage = 'ìœ„ì¹˜ ì •ë³´ë¥¼ ê°€ì ¸ì˜¬ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.';\n      switch (error.code) {\n        case error.PERMISSION_DENIED:\n          errorMessage = 'ìœ„ì¹˜ ì •ë³´ ì ‘ê·¼ì´ ê±°ë¶€ë˜ì—ˆìŠµë‹ˆë‹¤. ë¸Œë¼ìš°ì € ì„¤ì •ì—ì„œ ìœ„ì¹˜ ì •ë³´ ì ‘ê·¼ì„ í—ˆìš©í•´ì£¼ì„¸ìš”.';\n          break;\n        case error.POSITION_UNAVAILABLE:\n          errorMessage = 'ìœ„ì¹˜ ì •ë³´ë¥¼ ì‚¬ìš©í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.';\n          break;\n        case error.TIMEOUT:\n          errorMessage = 'ìœ„ì¹˜ ì •ë³´ ìš”ì²­ ì‹œê°„ì´ ì´ˆê³¼ë˜ì—ˆìŠµë‹ˆë‹¤.';\n          break;\n      }\n      alert(errorMessage);\n      setIsLoadingLocation(false);\n    }, {\n      enableHighAccuracy: true,\n      timeout: 10000,\n      maximumAge: 300000 // 5ë¶„\n    });\n  };\n  const getCategoryColor = category => {\n    const colors = {\n      'í•œì‹': '#ff6b6b',\n      'ì–‘ì‹': '#4ecdc4',\n      'ì¼ì‹': '#45b7d1',\n      'ì¤‘ì‹': '#96ceb4',\n      'ë™ë‚¨ì•„ì‹': '#feca57',\n      'ì¹´í˜': '#ff9ff3'\n    };\n    return colors[category] || '#95a5a6';\n  };\n\n  // í˜„ì¬ ì‹œê°„ì´ ì˜ì—…ì‹œê°„ì¸ì§€ í™•ì¸í•˜ëŠ” í•¨ìˆ˜\n  const isCurrentlyOpen = businessHours => {\n    if (!businessHours) return false;\n    const now = new Date();\n    const currentTime = now.getHours() * 100 + now.getMinutes();\n\n    // ê°„ë‹¨í•œ ì‹œê°„ íŒŒì‹± (ì˜ˆ: \"11:00 - 22:00\")\n    const timeMatch = businessHours.match(/(\\d{1,2}):(\\d{2})\\s*-\\s*(\\d{1,2}):(\\d{2})/);\n    if (!timeMatch) return true; // íŒŒì‹±í•  ìˆ˜ ì—†ìœ¼ë©´ ì˜ì—… ì¤‘ìœ¼ë¡œ ê°„ì£¼\n\n    const openHour = parseInt(timeMatch[1]);\n    const openMinute = parseInt(timeMatch[2]);\n    const closeHour = parseInt(timeMatch[3]);\n    const closeMinute = parseInt(timeMatch[4]);\n    const openTime = openHour * 100 + openMinute;\n    const closeTime = closeHour * 100 + closeMinute;\n    return currentTime >= openTime && currentTime <= closeTime;\n  };\n\n  // í‰ì ì„ ë³„ë¡œ í‘œì‹œí•˜ëŠ” í•¨ìˆ˜\n  const renderStars = rating => {\n    const stars = [];\n    for (let i = 1; i <= 5; i++) {\n      stars.push(/*#__PURE__*/_jsxDEV(\"span\", {\n        className: `star ${i <= rating ? 'filled' : ''}`,\n        children: \"\\u2605\"\n      }, i, false, {\n        fileName: _jsxFileName,\n        lineNumber: 620,\n        columnNumber: 9\n      }, this));\n    }\n    return stars;\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"map-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"map-header\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"\\uD83D\\uDDFA\\uFE0F \\uC778\\uC290\\uB7AD \\uB9DB\\uC9D1 \\uC9C0\\uB3C4\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 632,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"search-section\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"search-container\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            placeholder: \"\\uC9C0\\uC5ED\\uBA85, \\uB9DB\\uC9D1 \\uC774\\uB984\\uC73C\\uB85C \\uAC80\\uC0C9...\",\n            value: searchQuery,\n            onChange: e => setSearchQuery(e.target.value),\n            className: \"search-input\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 637,\n            columnNumber: 13\n          }, this), searchQuery && /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: clearSearch,\n            className: \"clear-search-btn\",\n            children: \"\\u2715\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 645,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 636,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"search-results\",\n          children: /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"results-count\",\n            children: [filteredRestaurants.length, \"\\uAC1C\\uC758 \\uB9DB\\uC9D1\\uC774 \\uAC80\\uC0C9\\uB418\\uC5C8\\uC2B5\\uB2C8\\uB2E4\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 651,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 650,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 635,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 631,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"map-content\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"filter-panel\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"filter-header\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"\\uD83C\\uDF7D\\uFE0F \\uC74C\\uC2DD \\uC885\\uB958 \\uD544\\uD130\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 662,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: toggleAllCategories,\n            className: \"toggle-all-btn\",\n            children: selectedCategories.length === categories.length ? 'ì „ì²´ í•´ì œ' : 'ì „ì²´ ì„ íƒ'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 663,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 661,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"category-filters\",\n          children: categories.map(category => /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => toggleCategory(category),\n            className: `category-filter-btn ${selectedCategories.includes(category) ? 'active' : ''}`,\n            children: [getCategoryIcon(category), \" \", category]\n          }, category, true, {\n            fileName: _jsxFileName,\n            lineNumber: 672,\n            columnNumber: 15\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 670,\n          columnNumber: 11\n        }, this), selectedRestaurant && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"selected-restaurant-info\",\n          children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n            children: \"\\uD83D\\uDCCB \\uC120\\uD0DD\\uB41C \\uB9DB\\uC9D1\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 687,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"restaurant-card\",\n            children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n              children: selectedRestaurant.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 689,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"restaurant-category\",\n              children: selectedRestaurant.category\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 690,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"restaurant-rating\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"stars\",\n                children: renderStars(selectedRestaurant.rating)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 692,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"rating-text\",\n                children: selectedRestaurant.rating\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 695,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 691,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"restaurant-description\",\n              children: selectedRestaurant.description\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 697,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"restaurant-details\",\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                children: [\"\\uD83D\\uDCCD \", selectedRestaurant.address]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 699,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: [\"\\uD83D\\uDCB0 \", selectedRestaurant.price]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 700,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: [\"\\uD83D\\uDD52 \", selectedRestaurant.businessHours]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 701,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: [\"\\uD83D\\uDCDE \", selectedRestaurant.phone]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 702,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: [\"\\uD83D\\uDE97 \", selectedRestaurant.parking]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 703,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 698,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"restaurant-actions\",\n              children: /*#__PURE__*/_jsxDEV(\"button\", {\n                className: `favorite-btn ${isInFavorites(selectedRestaurant.id) ? 'favorited' : ''}`,\n                onClick: () => {\n                  if (isInFavorites(selectedRestaurant.id)) {\n                    removeFromFavorites(selectedRestaurant.id);\n                    alert('ì°œ ëª©ë¡ì—ì„œ ì œê±°ë˜ì—ˆìŠµë‹ˆë‹¤! ğŸ‘‹');\n                  } else {\n                    addToFavorites(selectedRestaurant);\n                    alert('ì°œ ëª©ë¡ì— ì¶”ê°€ë˜ì—ˆìŠµë‹ˆë‹¤! ğŸ‰');\n                  }\n                },\n                children: isInFavorites(selectedRestaurant.id) ? 'â¤ï¸ ì°œë¨' : 'ğŸ¤ ì°œí•˜ê¸°'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 706,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 705,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 688,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 686,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 660,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"map-section\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          id: \"map\",\n          style: {\n            width: '100%',\n            height: '100%'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 728,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"map-location-overlay\",\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            className: `location-btn ${isLoadingLocation ? 'loading' : ''}`,\n            onClick: getUserLocation,\n            disabled: isLoadingLocation,\n            children: isLoadingLocation ? 'ğŸ“ ìœ„ì¹˜ í™•ì¸ ì¤‘...' : 'ğŸ“ ë‚´ ìœ„ì¹˜ë¡œ ì´ë™'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 732,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 731,\n          columnNumber: 11\n        }, this), miniPopup && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mini-popup\",\n          style: {\n            left: `${popupPosition.x}px`,\n            top: `${popupPosition.y}px`\n          },\n          onMouseDown: handleMouseDown,\n          onMouseMove: handleMouseMove,\n          onMouseUp: handleMouseUp,\n          onMouseLeave: handleMouseUp,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mini-popup-header\",\n            children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n              children: miniPopup.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 755,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"close-popup-btn\",\n              onClick: () => setMiniPopup(null),\n              children: \"\\u2715\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 756,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 754,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mini-popup-content\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mini-popup-rating\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"stars\",\n                children: renderStars(miniPopup.rating)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 766,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"rating-text\",\n                children: miniPopup.rating\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 769,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 765,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mini-popup-info\",\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"category\",\n                children: [\"\\uD83C\\uDF7D\\uFE0F \", miniPopup.category]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 773,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: `business-status ${isCurrentlyOpen(miniPopup.businessHours) ? 'open' : 'closed'}`,\n                children: isCurrentlyOpen(miniPopup.businessHours) ? 'ğŸŸ¢ ì˜ì—… ì¤‘' : 'ğŸ”´ ì˜ì—… ì¢…ë£Œ'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 774,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 772,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mini-popup-actions\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                className: `favorite-btn ${isInFavorites(miniPopup.id) ? 'favorited' : ''}`,\n                onClick: () => {\n                  if (isInFavorites(miniPopup.id)) {\n                    removeFromFavorites(miniPopup.id);\n                    alert('ì°œ ëª©ë¡ì—ì„œ ì œê±°ë˜ì—ˆìŠµë‹ˆë‹¤! ğŸ‘‹');\n                  } else {\n                    addToFavorites(miniPopup);\n                    alert('ì°œ ëª©ë¡ì— ì¶”ê°€ë˜ì—ˆìŠµë‹ˆë‹¤! ğŸ‰');\n                  }\n                  setMiniPopup(null);\n                },\n                children: isInFavorites(miniPopup.id) ? 'â¤ï¸ ì°œë¨' : 'ğŸ¤ ì°œí•˜ê¸°'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 780,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"detail-btn\",\n                onClick: () => {\n                  setDetailModal(miniPopup);\n                  setMiniPopup(null);\n                },\n                children: \"\\uD83D\\uDCCB \\uC0C1\\uC138\\uBCF4\\uAE30\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 795,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 779,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 764,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 743,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 727,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 658,\n      columnNumber: 7\n    }, this), detailModal && /*#__PURE__*/_jsxDEV(RestaurantDetailModal, {\n      restaurant: detailModal,\n      onClose: () => setDetailModal(null)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 813,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 629,\n    columnNumber: 5\n  }, this);\n}\n_s(KakaoMap, \"We4unOKqKB/FD9U+yLfYkOjb5lg=\", false, function () {\n  return [useFavorites, useVisit, useSearchParams];\n});\n_c = KakaoMap;\nexport default KakaoMap;\nvar _c;\n$RefreshReg$(_c, \"KakaoMap\");","map":{"version":3,"names":["React","useState","useEffect","useFavorites","useVisit","useSearchParams","RestaurantDetailModal","supabase","restaurantData","jsxDEV","_jsxDEV","KakaoMap","_s","restaurants","setRestaurants","selectedRestaurant","setSelectedRestaurant","addToFavorites","removeFromFavorites","isInFavorites","getRestaurantVisitStatus","setRestaurantVisitStatus","mapLoaded","setMapLoaded","userLocation","setUserLocation","nearbyRestaurants","setNearbyRestaurants","userMarker","setUserMarker","isLoadingLocation","setIsLoadingLocation","searchParams","mapInstance","setMapInstance","searchQuery","setSearchQuery","selectedCategories","setSelectedCategories","filteredRestaurants","setFilteredRestaurants","markers","setMarkers","labels","setLabels","miniPopup","setMiniPopup","popupPosition","setPopupPosition","x","y","isDragging","setIsDragging","dragOffset","setDragOffset","detailModal","setDetailModal","handleMouseDown","e","clientX","clientY","handleMouseMove","handleMouseUp","categories","fetchRestaurants","data","error","from","select","console","warn","defaultData","map","restaurant","id","name","category","rating","address","description","price","position","lat","lng","businessHours","hours","phone","parking","length","log","formattedData","cuisine","latitude","longitude","filtered","trim","filter","toLowerCase","includes","updateMapMarkers","restaurantsToShow","forEach","marker","setMap","label","newMarkers","newLabels","markerColor","markerIcon","getCategoryIcon","visitStatus","window","kakao","maps","Marker","LatLng","image","MarkerImage","createMarkerImage","Size","push","content","CustomOverlay","xAnchor","yAnchor","event","addListener","projection","getProjection","point","pointFromCoords","color","icon","canvas","document","createElement","width","height","ctx","getContext","beginPath","arc","Math","PI","fillStyle","fill","strokeStyle","lineWidth","stroke","font","textAlign","textBaseline","fillText","toDataURL","restaurantId","get","find","toString","setTimeout","toggleCategory","prev","c","toggleAllCategories","clearSearch","icons","initKakaoMap","location","href","process","env","REACT_APP_KAKAO_MAP_API_KEY","container","getElementById","navigator","geolocation","getCurrentPosition","coords","options","center","level","Map","initKakaoMapWithDefaultLocation","enableHighAccuracy","timeout","maximumAge","innerHTML","calculateDistance","lat1","lon1","lat2","lon2","R","dLat","dLon","a","sin","cos","atan2","sqrt","distance","getUserLocation","alert","newUserLocation","setCenter","setLevel","newUserMarker","restaurantsWithDistance","nearby","sort","b","errorMessage","code","PERMISSION_DENIED","POSITION_UNAVAILABLE","TIMEOUT","getCategoryColor","colors","isCurrentlyOpen","now","Date","currentTime","getHours","getMinutes","timeMatch","match","openHour","parseInt","openMinute","closeHour","closeMinute","openTime","closeTime","renderStars","stars","i","className","children","fileName","_jsxFileName","lineNumber","columnNumber","type","placeholder","value","onChange","target","onClick","style","disabled","left","top","onMouseDown","onMouseMove","onMouseUp","onMouseLeave","onClose","_c","$RefreshReg$"],"sources":["/Users/ingtto/Documents/GitHub/ingchelin/src/pages/Map.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useFavorites } from '../context/FavoriteContext';\nimport { useVisit } from '../context/VisitContext';\nimport { useSearchParams } from 'react-router-dom';\nimport RestaurantDetailModal from '../components/RestaurantDetailModal';\nimport { supabase } from '../services/supabase';\nimport { restaurantData } from '../data/restaurantData';\nimport './Map.css';\n\nfunction KakaoMap() {\n  const [restaurants, setRestaurants] = useState([]);\n  const [selectedRestaurant, setSelectedRestaurant] = useState(null);\n  const { addToFavorites, removeFromFavorites, isInFavorites } = useFavorites();\n  const { getRestaurantVisitStatus, setRestaurantVisitStatus } = useVisit();\n  const [mapLoaded, setMapLoaded] = useState(false);\n  const [userLocation, setUserLocation] = useState(null);\n  const [nearbyRestaurants, setNearbyRestaurants] = useState([]);\n  const [userMarker, setUserMarker] = useState(null);\n  const [isLoadingLocation, setIsLoadingLocation] = useState(false);\n  const [searchParams] = useSearchParams();\n  const [mapInstance, setMapInstance] = useState(null);\n  \n  // ìƒˆë¡œìš´ ìƒíƒœë“¤\n  const [searchQuery, setSearchQuery] = useState('');\n  const [selectedCategories, setSelectedCategories] = useState(['í•œì‹', 'ì¤‘ì‹', 'ì¼ì‹', 'ì–‘ì‹', 'ë¶„ì‹', 'íƒœêµ­', 'ìˆ ', 'ì¹´í˜', 'ë””ì €íŠ¸']);\n  const [filteredRestaurants, setFilteredRestaurants] = useState([]);\n  \n  // ë§ˆì»¤ ìƒíƒœ ì¶”ê°€\n  const [markers, setMarkers] = useState([]);\n  const [labels, setLabels] = useState([]);\n  \n  // ë¯¸ë‹ˆ íŒì—… ìƒíƒœ ì¶”ê°€\n  const [miniPopup, setMiniPopup] = useState(null);\n  const [popupPosition, setPopupPosition] = useState({ x: 0, y: 0 });\n  const [isDragging, setIsDragging] = useState(false);\n  const [dragOffset, setDragOffset] = useState({ x: 0, y: 0 });\n  \n  // ìƒì„¸ì •ë³´ ëª¨ë‹¬ ìƒíƒœ ì¶”ê°€\n  const [detailModal, setDetailModal] = useState(null);\n\n  // ë“œë˜ê·¸ ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬\n  const handleMouseDown = (e) => {\n    setIsDragging(true);\n    setDragOffset({\n      x: e.clientX - popupPosition.x,\n      y: e.clientY - popupPosition.y\n    });\n  };\n\n  const handleMouseMove = (e) => {\n    if (isDragging) {\n      setPopupPosition({\n        x: e.clientX - dragOffset.x,\n        y: e.clientY - dragOffset.y\n      });\n    }\n  };\n\n  const handleMouseUp = () => {\n    setIsDragging(false);\n  };\n\n  // ì¹´í…Œê³ ë¦¬ ì˜µì…˜\n  const categories = ['í•œì‹', 'ì¤‘ì‹', 'ì¼ì‹', 'ì–‘ì‹', 'ë¶„ì‹', 'íƒœêµ­', 'ìˆ ', 'ì¹´í˜', 'ë””ì €íŠ¸'];\n  \n\n\n  // Supabaseì—ì„œ ë ˆìŠ¤í† ë‘ ë°ì´í„° ê°€ì ¸ì˜¤ê¸°\n  const fetchRestaurants = async () => {\n    try {\n      // Supabaseì—ì„œ ë ˆìŠ¤í† ë‘ ë°ì´í„° ê°€ì ¸ì˜¤ê¸°\n      const { data, error } = await supabase\n        .from('restaurants')\n        .select('*');\n      \n      if (error) {\n        console.warn('Supabase ì—°ê²° ì‹¤íŒ¨, ê¸°ë³¸ ë°ì´í„° ì‚¬ìš©:', error);\n        // ê¸°ë³¸ ë°ì´í„° ë°˜í™˜\n        const defaultData = restaurantData.map(restaurant => ({\n          id: restaurant.id,\n          name: restaurant.name,\n          category: restaurant.category,\n          rating: restaurant.rating,\n          address: restaurant.address,\n          description: restaurant.description,\n          price: restaurant.price || \"1ë§Œì›~3ë§Œì›\",\n          position: { \n            lat: restaurant.position.lat, \n            lng: restaurant.position.lng \n          },\n          businessHours: restaurant.hours || \"11:00 - 22:00\",\n          phone: restaurant.phone || \"02-0000-0000\",\n          parking: restaurant.parking || \"ì£¼ì°¨ ê°€ëŠ¥\"\n        }));\n        setRestaurants(defaultData);\n        setFilteredRestaurants(defaultData);\n        return;\n      }\n      \n      // Supabase ë°ì´í„°ê°€ ìˆìœ¼ë©´ ì‚¬ìš©, ì—†ìœ¼ë©´ ê¸°ë³¸ ë°ì´í„° ì‚¬ìš©\n      if (data && data.length > 0) {\n        console.log('Supabase ë°ì´í„° ì‚¬ìš©:', data.length, 'ê°œ ë ˆìŠ¤í† ë‘');\n        const formattedData = data.map(restaurant => ({\n          id: restaurant.id,\n          name: restaurant.name,\n          category: restaurant.cuisine || restaurant.category,\n          rating: restaurant.rating || 4.0,\n          address: restaurant.address,\n          description: restaurant.description || `${restaurant.cuisine || restaurant.category} ì „ë¬¸ì ì…ë‹ˆë‹¤.`,\n          price: restaurant.price || \"1ë§Œì›~3ë§Œì›\",\n          position: { \n            lat: restaurant.latitude || 37.5665, \n            lng: restaurant.longitude || 126.9780 \n          },\n          businessHours: restaurant.businessHours || \"11:00 - 22:00\",\n          phone: restaurant.phone || \"02-0000-0000\",\n          parking: restaurant.parking ? \"ì£¼ì°¨ ê°€ëŠ¥\" : \"ì£¼ì°¨ ë¶ˆê°€\"\n        }));\n        setRestaurants(formattedData);\n        setFilteredRestaurants(formattedData);\n      } else {\n        console.log('Supabase ë°ì´í„° ì—†ìŒ, ê¸°ë³¸ ë°ì´í„° ì‚¬ìš©');\n        const defaultData = restaurantData.map(restaurant => ({\n          id: restaurant.id,\n          name: restaurant.name,\n          category: restaurant.category,\n          rating: restaurant.rating,\n          address: restaurant.address,\n          description: restaurant.description,\n          price: restaurant.price || \"1ë§Œì›~3ë§Œì›\",\n          position: { \n            lat: restaurant.position.lat, \n            lng: restaurant.position.lng \n          },\n          businessHours: restaurant.hours || \"11:00 - 22:00\",\n          phone: restaurant.phone || \"02-0000-0000\",\n          parking: restaurant.parking || \"ì£¼ì°¨ ê°€ëŠ¥\"\n        }));\n        setRestaurants(defaultData);\n        setFilteredRestaurants(defaultData);\n      }\n    } catch (error) {\n      console.warn('API í˜¸ì¶œ ì‹¤íŒ¨, ê¸°ë³¸ ë°ì´í„° ì‚¬ìš©:', error);\n      const defaultData = restaurantData.map(restaurant => ({\n        id: restaurant.id,\n        name: restaurant.name,\n        category: restaurant.category,\n        rating: restaurant.rating,\n        address: restaurant.address,\n        description: restaurant.description,\n        price: restaurant.price || \"1ë§Œì›~3ë§Œì›\",\n        position: { \n          lat: restaurant.position.lat, \n          lng: restaurant.position.lng \n        },\n        businessHours: restaurant.hours || \"11:00 - 22:00\",\n        phone: restaurant.phone || \"02-0000-0000\",\n        parking: restaurant.parking || \"ì£¼ì°¨ ê°€ëŠ¥\"\n      }));\n      setRestaurants(defaultData);\n      setFilteredRestaurants(defaultData);\n    }\n  };\n\n  // ì»´í¬ë„ŒíŠ¸ ë§ˆìš´íŠ¸ ì‹œ ë°ì´í„° ê°€ì ¸ì˜¤ê¸°\n  useEffect(() => {\n    fetchRestaurants();\n  }, []);\n\n  // ê²€ìƒ‰ ë° í•„í„°ë§ í•¨ìˆ˜\n  useEffect(() => {\n    let filtered = restaurants;\n    \n    // ê²€ìƒ‰ì–´ í•„í„°ë§\n    if (searchQuery.trim()) {\n      filtered = filtered.filter(restaurant => \n        restaurant.name.toLowerCase().includes(searchQuery.toLowerCase()) ||\n        restaurant.address.toLowerCase().includes(searchQuery.toLowerCase()) ||\n        restaurant.category.toLowerCase().includes(searchQuery.toLowerCase())\n      );\n    }\n    \n    // ì¹´í…Œê³ ë¦¬ í•„í„°ë§\n    filtered = filtered.filter(restaurant => \n      selectedCategories.includes(restaurant.category)\n    );\n    \n\n    \n    setFilteredRestaurants(filtered);\n  }, [restaurants, searchQuery, selectedCategories]);\n\n  // ë§ˆì»¤ ì—…ë°ì´íŠ¸ í•¨ìˆ˜\n  const updateMapMarkers = (restaurantsToShow) => {\n    if (!mapInstance) return;\n\n    // ê¸°ì¡´ ë§ˆì»¤ì™€ ë¼ë²¨ ì œê±°\n    markers.forEach(marker => marker.setMap(null));\n    labels.forEach(label => label.setMap(null));\n\n    const newMarkers = [];\n    const newLabels = [];\n\n    // ìƒˆë¡œìš´ ë§ˆì»¤ì™€ ë¼ë²¨ ì¶”ê°€\n    restaurantsToShow.forEach((restaurant) => {\n      // ë§ˆì»¤ ìƒ‰ìƒ ê²°ì •\n      let markerColor = '#FF6B6B'; // ê¸°ë³¸ ìƒ‰ìƒ\n      let markerIcon = getCategoryIcon(restaurant.category);\n      \n      // ìƒíƒœë³„ ìƒ‰ìƒ ì ìš©\n      if (isInFavorites(restaurant.id)) {\n        markerColor = '#FF3B30'; // ì°œí•œ ë§›ì§‘ - ë¹¨ê°„ìƒ‰\n      } else {\n        const visitStatus = getRestaurantVisitStatus(restaurant.id);\n        if (visitStatus === 'liked') {\n          markerColor = '#007AFF'; // ë°©ë¬¸í•œ ê³³ (ì¢‹ì•˜ë˜ ê³³) - íŒŒë€ìƒ‰\n        } else if (visitStatus === 'disliked') {\n          markerColor = '#8E8E93'; // ë°©ë¬¸í•œ ê³³ (ë³„ë¡œì¸ ê³³) - íšŒìƒ‰\n        }\n      }\n\n      // ì¹´í…Œê³ ë¦¬ë³„ ì•„ì´ì½˜ê³¼ ìƒ‰ìƒìœ¼ë¡œ ë§ˆì»¤ ìƒì„±\n      const marker = new window.kakao.maps.Marker({\n        position: new window.kakao.maps.LatLng(restaurant.position.lat, restaurant.position.lng),\n        image: new window.kakao.maps.MarkerImage(\n          createMarkerImage(markerColor, markerIcon),\n          new window.kakao.maps.Size(40, 40)\n        )\n      });\n      \n      marker.setMap(mapInstance);\n      newMarkers.push(marker);\n      \n      // ë§ˆì»¤ ìœ„ì— ì‹ë‹¹ ì´ë¦„ë§Œ í‘œì‹œí•˜ëŠ” ì»¤ìŠ¤í…€ ì˜¤ë²„ë ˆì´\n      const content = `\n        <div class=\"marker-label\">\n          <div class=\"marker-label-content\">\n            ${restaurant.name}\n          </div>\n        </div>\n      `;\n      \n      const label = new window.kakao.maps.CustomOverlay({\n        content: content,\n        position: new window.kakao.maps.LatLng(restaurant.position.lat, restaurant.position.lng),\n        xAnchor: 0.5,\n        yAnchor: 1.5\n      });\n      \n      label.setMap(mapInstance);\n      newLabels.push(label);\n      \n      // ë§ˆì»¤ í´ë¦­ ì´ë²¤íŠ¸\n      window.kakao.maps.event.addListener(marker, 'click', () => {\n        setSelectedRestaurant(restaurant);\n        \n        // ë¯¸ë‹ˆ íŒì—… í‘œì‹œ - ì§€ë„ ì»¨í…Œì´ë„ˆ ë‚´ ìƒëŒ€ì  ìœ„ì¹˜ë¡œ ê³„ì‚°\n        const position = new window.kakao.maps.LatLng(restaurant.position.lat, restaurant.position.lng);\n        const projection = mapInstance.getProjection();\n        const point = projection.pointFromCoords(position);\n        \n        setMiniPopup(restaurant);\n        setPopupPosition({\n          x: point.x,\n          y: point.y - 80 // ë§ˆì»¤ ìœ„ì— í‘œì‹œ\n        });\n      });\n    });\n\n    setMarkers(newMarkers);\n    setLabels(newLabels);\n  };\n\n  // ë§ˆì»¤ ì´ë¯¸ì§€ ìƒì„± í•¨ìˆ˜\n  const createMarkerImage = (color, icon) => {\n    const canvas = document.createElement('canvas');\n    canvas.width = 40;\n    canvas.height = 40;\n    const ctx = canvas.getContext('2d');\n    \n    // ì›í˜• ë°°ê²½ ê·¸ë¦¬ê¸°\n    ctx.beginPath();\n    ctx.arc(20, 20, 18, 0, 2 * Math.PI);\n    ctx.fillStyle = color;\n    ctx.fill();\n    ctx.strokeStyle = 'white';\n    ctx.lineWidth = 2;\n    ctx.stroke();\n    \n    // ì•„ì´ì½˜ í…ìŠ¤íŠ¸ ê·¸ë¦¬ê¸°\n    ctx.fillStyle = 'white';\n    ctx.font = '16px Arial';\n    ctx.textAlign = 'center';\n    ctx.textBaseline = 'middle';\n    ctx.fillText(icon, 20, 20);\n    \n    return canvas.toDataURL();\n  };\n\n  // í•„í„°ë§ëœ ë ˆìŠ¤í† ë‘ì´ ë³€ê²½ë  ë•Œ ë§ˆì»¤ ì—…ë°ì´íŠ¸\n  useEffect(() => {\n    if (mapLoaded && mapInstance) {\n      updateMapMarkers(filteredRestaurants);\n      \n      // URL íŒŒë¼ë¯¸í„°ë¡œ íŠ¹ì • ì‹ë‹¹ì´ ì§€ì •ëœ ê²½ìš° í•´ë‹¹ ì‹ë‹¹ ì •ë³´ í‘œì‹œ\n      const restaurantId = searchParams.get('restaurantId');\n      if (restaurantId) {\n        const selectedRestaurant = filteredRestaurants.find(\n          restaurant => restaurant.id.toString() === restaurantId\n        );\n        if (selectedRestaurant) {\n          setTimeout(() => {\n            setSelectedRestaurant(selectedRestaurant);\n          }, 1000);\n        }\n      }\n    }\n  }, [filteredRestaurants, mapLoaded, mapInstance, searchParams]);\n\n  // ì¹´í…Œê³ ë¦¬ í† ê¸€ í•¨ìˆ˜\n  const toggleCategory = (category) => {\n    setSelectedCategories(prev => \n      prev.includes(category) \n        ? prev.filter(c => c !== category)\n        : [...prev, category]\n    );\n  };\n\n  // ëª¨ë“  ì¹´í…Œê³ ë¦¬ í† ê¸€ í•¨ìˆ˜\n  const toggleAllCategories = () => {\n    setSelectedCategories(selectedCategories.length === categories.length ? [] : categories);\n  };\n\n  // ê²€ìƒ‰ì–´ ì´ˆê¸°í™” í•¨ìˆ˜\n  const clearSearch = () => {\n    setSearchQuery('');\n  };\n\n  // ì¹´í…Œê³ ë¦¬ ì•„ì´ì½˜ ë°˜í™˜ í•¨ìˆ˜\n  const getCategoryIcon = (category) => {\n    const icons = {\n      'í•œì‹': 'ğŸš',\n      'ì–‘ì‹': 'ğŸ',\n      'ì¼ì‹': 'ğŸ£',\n      'ì¤‘ì‹': 'ğŸ¥¢',\n      'ì¹´í˜': 'â˜•',\n      'ë””ì €íŠ¸': 'ğŸ°',\n      'ë¶„ì‹': 'ğŸ¡',\n      'ìˆ ': 'ğŸº',\n      'íƒœêµ­': 'ğŸœ'\n    };\n    return icons[category] || 'ğŸ½ï¸';\n  };\n\n\n\n  // ì¹´ì¹´ì˜¤ë§µ ì´ˆê¸°í™” í•¨ìˆ˜\n  const initKakaoMap = () => {\n    console.log('ğŸ” ì¹´ì¹´ì˜¤ë§µ ì´ˆê¸°í™” ì‹œì‘');\n    console.log('ğŸ“ í˜„ì¬ URL:', window.location.href);\n    console.log('ğŸŒ ì¹´ì¹´ì˜¤ë§µ API í‚¤:', process.env.REACT_APP_KAKAO_MAP_API_KEY ? 'ì„¤ì •ë¨' : 'ì„¤ì •ë˜ì§€ ì•ŠìŒ');\n    \n    // ì¹´ì¹´ì˜¤ë§µ API ë¡œë“œ í™•ì¸\n    if (window.kakao && window.kakao.maps) {\n      console.log('âœ… ì¹´ì¹´ì˜¤ë§µ API ë¡œë“œë¨');\n      const container = document.getElementById('map');\n      if (!container) {\n        console.error('âŒ ì§€ë„ ì»¨í…Œì´ë„ˆë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.');\n        return;\n      }\n      console.log('âœ… ì§€ë„ ì»¨í…Œì´ë„ˆ ì°¾ìŒ');\n\n      // ì‚¬ìš©ì ìœ„ì¹˜ ê°€ì ¸ì˜¤ê¸°\n      if (navigator.geolocation) {\n        console.log('ğŸ“ ìœ„ì¹˜ ì •ë³´ ìš”ì²­ ì‹œì‘');\n        navigator.geolocation.getCurrentPosition(\n          (position) => {\n            const { latitude, longitude } = position.coords;\n            console.log('âœ… ì‚¬ìš©ì ìœ„ì¹˜ íšë“:', latitude, longitude);\n            \n            try {\n              // ì‚¬ìš©ì ìœ„ì¹˜ë¡œ ì§€ë„ ì´ˆê¸°í™”\n              const options = {\n                center: new window.kakao.maps.LatLng(latitude, longitude),\n                level: 6\n              };\n              \n              const map = new window.kakao.maps.Map(container, options);\n              setMapInstance(map);\n              setMapLoaded(true);\n              setUserLocation({ lat: latitude, lng: longitude });\n              \n              // ì‚¬ìš©ì ìœ„ì¹˜ ë§ˆì»¤ ì¶”ê°€\n              const userMarker = new window.kakao.maps.Marker({\n                position: new window.kakao.maps.LatLng(latitude, longitude),\n                image: new window.kakao.maps.MarkerImage(\n                  'data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTEyIDJDNi40OCAyIDIgNi40OCAyIDEyQzIgMTcuNTIgNi40OCAyMiAxMiAyMkMxNy41MiAyMiAyMiAxNy41MiAyMiAxMkMyMiA2LjQ4IDE3LjUyIDIgMTIgMlpNMTIgMjBDNy41OSAyMCA0IDE2LjQxIDQgMTJDNCA3LjU5IDcuNTkgNCAxMiA0QzE2LjQxIDQgMjAgNy41OSAyMCAxMkMyMCAxNi40MSAxNi40MSAyMCAxMiAyMFoiIGZpbGw9IiM2Njc5ZWEiLz4KPHBhdGggZD0iTTEyIDZDNi40OCA2IDIgMTAuNDggMiAxNkMyIDIxLjUyIDYuNDggMjYgMTIgMjZDNy41OSAyNiA0IDIyLjQxIDQgMThDNCAxMy41OSA3LjU5IDEwIDEyIDEwQzE2LjQxIDEwIDIwIDEzLjU5IDIwIDE4QzIwIDIyLjQxIDE2LjQxIDI2IDEyIDI2WiIgZmlsbD0iIzY2NzllYSIvPgo8L3N2Zz4K',\n                  new window.kakao.maps.Size(30, 30)\n                )\n              });\n              \n              userMarker.setMap(map);\n              setUserMarker(userMarker);\n              \n              console.log('ğŸ‰ ì¹´ì¹´ì˜¤ë§µ ì´ˆê¸°í™” ì™„ë£Œ (ì‚¬ìš©ì ìœ„ì¹˜ ê¸°ë°˜)');\n            } catch (error) {\n              console.error('âŒ ì¹´ì¹´ì˜¤ë§µ ì´ˆê¸°í™” ì˜¤ë¥˜:', error);\n              // ì—ëŸ¬ ë°œìƒ ì‹œ ê¸°ë³¸ ìœ„ì¹˜ë¡œ ì´ˆê¸°í™”\n              initKakaoMapWithDefaultLocation();\n            }\n          },\n          (error) => {\n            console.log('âŒ ìœ„ì¹˜ ì •ë³´ë¥¼ ê°€ì ¸ì˜¬ ìˆ˜ ì—†ìŠµë‹ˆë‹¤:', error);\n            // ìœ„ì¹˜ ì •ë³´ë¥¼ ê°€ì ¸ì˜¬ ìˆ˜ ì—†ìœ¼ë©´ ê¸°ë³¸ ìœ„ì¹˜ë¡œ ì´ˆê¸°í™”\n            initKakaoMapWithDefaultLocation();\n          },\n          {\n            enableHighAccuracy: true,\n            timeout: 10000,\n            maximumAge: 300000 // 5ë¶„\n          }\n        );\n      } else {\n        console.log('âŒ ìœ„ì¹˜ ì •ë³´ë¥¼ ì§€ì›í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤');\n        // ìœ„ì¹˜ ì •ë³´ë¥¼ ì§€ì›í•˜ì§€ ì•Šìœ¼ë©´ ê¸°ë³¸ ìœ„ì¹˜ë¡œ ì´ˆê¸°í™”\n        initKakaoMapWithDefaultLocation();\n      }\n    } else {\n      console.error('âŒ ì¹´ì¹´ì˜¤ë§µ APIê°€ ë¡œë“œë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤.');\n      console.log('ğŸ”„ 1ì´ˆ í›„ ì¬ì‹œë„...');\n      // 1ì´ˆ í›„ ë‹¤ì‹œ ì‹œë„\n      setTimeout(initKakaoMap, 1000);\n    }\n  };\n\n  // ê¸°ë³¸ ìœ„ì¹˜ë¡œ ì§€ë„ ì´ˆê¸°í™”í•˜ëŠ” í•¨ìˆ˜\n  const initKakaoMapWithDefaultLocation = () => {\n    console.log('ğŸ“ ê¸°ë³¸ ìœ„ì¹˜ë¡œ ì§€ë„ ì´ˆê¸°í™” ì‹œì‘');\n    try {\n      const container = document.getElementById('map');\n      if (!container) {\n        console.error('âŒ ì§€ë„ ì»¨í…Œì´ë„ˆë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.');\n        return;\n      }\n\n      const options = {\n        center: new window.kakao.maps.LatLng(37.5665, 126.9780), // ì„œìš¸ ì‹œì²­\n        level: 6\n      };\n      \n      const map = new window.kakao.maps.Map(container, options);\n      setMapInstance(map);\n      setMapLoaded(true);\n      \n      console.log('âœ… ì¹´ì¹´ì˜¤ë§µ ì´ˆê¸°í™” ì™„ë£Œ (ê¸°ë³¸ ìœ„ì¹˜)');\n    } catch (error) {\n      console.error('âŒ ì¹´ì¹´ì˜¤ë§µ ê¸°ë³¸ ìœ„ì¹˜ ì´ˆê¸°í™” ì˜¤ë¥˜:', error);\n      // ìµœì¢… í´ë°±: ì§€ë„ ì»¨í…Œì´ë„ˆì— ì—ëŸ¬ ë©”ì‹œì§€ í‘œì‹œ\n      const container = document.getElementById('map');\n      if (container) {\n        container.innerHTML = `\n          <div style=\"display: flex; justify-content: center; align-items: center; height: 100%; background-color: #f5f5f5; color: #666;\">\n            <div style=\"text-align: center;\">\n              <h3>ğŸ—ºï¸ ì§€ë„ë¥¼ ë¶ˆëŸ¬ì˜¬ ìˆ˜ ì—†ìŠµë‹ˆë‹¤</h3>\n              <p>ì¹´ì¹´ì˜¤ë§µ API ì—°ê²°ì— ë¬¸ì œê°€ ìˆìŠµë‹ˆë‹¤.</p>\n              <p>Vercel í™˜ê²½ì—ì„œ API í‚¤ ì„¤ì •ì„ í™•ì¸í•´ì£¼ì„¸ìš”.</p>\n              <button onclick=\"window.location.reload()\" style=\"margin-top: 10px; padding: 8px 16px; background-color: #007bff; color: white; border: none; border-radius: 4px; cursor: pointer;\">\n                ìƒˆë¡œê³ ì¹¨\n              </button>\n            </div>\n          </div>\n        `;\n      }\n    }\n  };\n\n  // ì»´í¬ë„ŒíŠ¸ ë§ˆìš´íŠ¸ ì‹œ ì§€ë„ ì´ˆê¸°í™”\n  useEffect(() => {\n    // ì§€ë„ ì´ˆê¸°í™”\n    initKakaoMap();\n  }, []);\n\n  // ë‘ ì§€ì  ê°„ì˜ ê±°ë¦¬ ê³„ì‚° (í•˜ë²„ì‚¬ì¸ ê³µì‹)\n  const calculateDistance = (lat1, lon1, lat2, lon2) => {\n    const R = 6371; // ì§€êµ¬ì˜ ë°˜ì§€ë¦„ (km)\n    const dLat = (lat2 - lat1) * Math.PI / 180;\n    const dLon = (lon2 - lon1) * Math.PI / 180;\n    const a = \n      Math.sin(dLat/2) * Math.sin(dLat/2) +\n      Math.cos(lat1 * Math.PI / 180) * Math.cos(lat2 * Math.PI / 180) * \n      Math.sin(dLon/2) * Math.sin(dLon/2);\n    const c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1-a));\n    const distance = R * c; // km\n    return distance;\n  };\n\n  // ì‚¬ìš©ì ìœ„ì¹˜ ê°€ì ¸ì˜¤ê¸°\n  const getUserLocation = () => {\n    if (!navigator.geolocation) {\n      alert('ì´ ë¸Œë¼ìš°ì €ì—ì„œëŠ” ìœ„ì¹˜ ì •ë³´ë¥¼ ì§€ì›í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.');\n      return;\n    }\n\n    setIsLoadingLocation(true);\n\n    navigator.geolocation.getCurrentPosition(\n      (position) => {\n        const { latitude, longitude } = position.coords;\n        const newUserLocation = { lat: latitude, lng: longitude };\n        setUserLocation(newUserLocation);\n        \n        // ì§€ë„ê°€ ë¡œë“œëœ í›„ì—ë§Œ ì¤‘ì‹¬ ì´ë™\n        if (mapInstance) {\n          // ê¸°ì¡´ ì‚¬ìš©ì ë§ˆì»¤ ì œê±°\n          if (userMarker) {\n            userMarker.setMap(null);\n          }\n          \n          // ì‚¬ìš©ì ìœ„ì¹˜ë¡œ ì§€ë„ ì¤‘ì‹¬ ì´ë™\n          mapInstance.setCenter(new window.kakao.maps.LatLng(latitude, longitude));\n          mapInstance.setLevel(5);\n          \n          // ìƒˆë¡œìš´ ì‚¬ìš©ì ìœ„ì¹˜ ë§ˆì»¤ ì¶”ê°€\n          const newUserMarker = new window.kakao.maps.Marker({\n            position: new window.kakao.maps.LatLng(latitude, longitude),\n            image: new window.kakao.maps.MarkerImage(\n              'data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTEyIDJDNi40OCAyIDIgNi40OCAyIDEyQzIgMTcuNTIgNi40OCAyMiAxMiAyMkMxNy41MiAyMiAyMiAxNy41MiAyMiAxMkMyMiA2LjQ4IDE3LjUyIDIgMTIgMlpNMTIgMjBDNy41OSAyMCA0IDE2LjQxIDQgMTJDNCA3LjU5IDcuNTkgNCAxMiA0QzE2LjQxIDQgMjAgNy41OSAyMCAxMkMyMCAxNi40MSAxNi40MSAyMCAxMiAyMFoiIGZpbGw9IiM2Njc5ZWEiLz4KPHBhdGggZD0iTTEyIDZDNi40OCA2IDIgMTAuNDggMiAxNkMyIDIxLjUyIDYuNDggMjYgMTIgMjZDNy41OSAyNiA0IDIyLjQxIDQgMThDNCAxMy41OSA3LjU5IDEwIDEyIDEwQzE2LjQxIDEwIDIwIDEzLjU5IDIwIDE4QzIwIDIyLjQxIDE2LjQxIDI2IDEyIDI2WiIgZmlsbD0iIzY2NzllYSIvPgo8L3N2Zz4K',\n              new window.kakao.maps.Size(30, 30)\n            )\n          });\n          \n          newUserMarker.setMap(mapInstance);\n          setUserMarker(newUserMarker);\n        }\n        \n        // ê°€ê¹Œìš´ ì‹ë‹¹ ì°¾ê¸° (3km ì´ë‚´)\n        const restaurantsWithDistance = restaurants.map(restaurant => {\n          const distance = calculateDistance(\n            latitude, \n            longitude, \n            restaurant.position.lat, \n            restaurant.position.lng\n          );\n          return {\n            ...restaurant,\n            distance: distance\n          };\n        });\n\n        const nearby = restaurantsWithDistance\n          .filter(restaurant => restaurant.distance <= 3)\n          .sort((a, b) => a.distance - b.distance);\n\n        setNearbyRestaurants(nearby);\n        setIsLoadingLocation(false);\n      },\n      (error) => {\n        let errorMessage = 'ìœ„ì¹˜ ì •ë³´ë¥¼ ê°€ì ¸ì˜¬ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.';\n        switch(error.code) {\n          case error.PERMISSION_DENIED:\n            errorMessage = 'ìœ„ì¹˜ ì •ë³´ ì ‘ê·¼ì´ ê±°ë¶€ë˜ì—ˆìŠµë‹ˆë‹¤. ë¸Œë¼ìš°ì € ì„¤ì •ì—ì„œ ìœ„ì¹˜ ì •ë³´ ì ‘ê·¼ì„ í—ˆìš©í•´ì£¼ì„¸ìš”.';\n            break;\n          case error.POSITION_UNAVAILABLE:\n            errorMessage = 'ìœ„ì¹˜ ì •ë³´ë¥¼ ì‚¬ìš©í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.';\n            break;\n          case error.TIMEOUT:\n            errorMessage = 'ìœ„ì¹˜ ì •ë³´ ìš”ì²­ ì‹œê°„ì´ ì´ˆê³¼ë˜ì—ˆìŠµë‹ˆë‹¤.';\n            break;\n        }\n        alert(errorMessage);\n        setIsLoadingLocation(false);\n      },\n      {\n        enableHighAccuracy: true,\n        timeout: 10000,\n        maximumAge: 300000 // 5ë¶„\n      }\n    );\n  };\n\n  const getCategoryColor = (category) => {\n    const colors = {\n      'í•œì‹': '#ff6b6b',\n      'ì–‘ì‹': '#4ecdc4',\n      'ì¼ì‹': '#45b7d1',\n      'ì¤‘ì‹': '#96ceb4',\n      'ë™ë‚¨ì•„ì‹': '#feca57',\n      'ì¹´í˜': '#ff9ff3'\n    };\n    return colors[category] || '#95a5a6';\n  };\n\n  // í˜„ì¬ ì‹œê°„ì´ ì˜ì—…ì‹œê°„ì¸ì§€ í™•ì¸í•˜ëŠ” í•¨ìˆ˜\n  const isCurrentlyOpen = (businessHours) => {\n    if (!businessHours) return false;\n    \n    const now = new Date();\n    const currentTime = now.getHours() * 100 + now.getMinutes();\n    \n    // ê°„ë‹¨í•œ ì‹œê°„ íŒŒì‹± (ì˜ˆ: \"11:00 - 22:00\")\n    const timeMatch = businessHours.match(/(\\d{1,2}):(\\d{2})\\s*-\\s*(\\d{1,2}):(\\d{2})/);\n    if (!timeMatch) return true; // íŒŒì‹±í•  ìˆ˜ ì—†ìœ¼ë©´ ì˜ì—… ì¤‘ìœ¼ë¡œ ê°„ì£¼\n    \n    const openHour = parseInt(timeMatch[1]);\n    const openMinute = parseInt(timeMatch[2]);\n    const closeHour = parseInt(timeMatch[3]);\n    const closeMinute = parseInt(timeMatch[4]);\n    \n    const openTime = openHour * 100 + openMinute;\n    const closeTime = closeHour * 100 + closeMinute;\n    \n    return currentTime >= openTime && currentTime <= closeTime;\n  };\n\n  // í‰ì ì„ ë³„ë¡œ í‘œì‹œí•˜ëŠ” í•¨ìˆ˜\n  const renderStars = (rating) => {\n    const stars = [];\n    for (let i = 1; i <= 5; i++) {\n      stars.push(\n        <span key={i} className={`star ${i <= rating ? 'filled' : ''}`}>\n          â˜…\n        </span>\n      );\n    }\n    return stars;\n  };\n\n  return (\n    <div className=\"map-container\">\n      {/* ìƒë‹¨ ê²€ìƒ‰ ì˜ì—­ */}\n      <div className=\"map-header\">\n        <h2>ğŸ—ºï¸ ì¸ìŠë­ ë§›ì§‘ ì§€ë„</h2>\n        \n        {/* ê²€ìƒ‰ì°½ */}\n        <div className=\"search-section\">\n          <div className=\"search-container\">\n            <input\n              type=\"text\"\n              placeholder=\"ì§€ì—­ëª…, ë§›ì§‘ ì´ë¦„ìœ¼ë¡œ ê²€ìƒ‰...\"\n              value={searchQuery}\n              onChange={(e) => setSearchQuery(e.target.value)}\n              className=\"search-input\"\n            />\n            {searchQuery && (\n              <button onClick={clearSearch} className=\"clear-search-btn\">\n                âœ•\n              </button>\n            )}\n          </div>\n          <div className=\"search-results\">\n            <span className=\"results-count\">\n              {filteredRestaurants.length}ê°œì˜ ë§›ì§‘ì´ ê²€ìƒ‰ë˜ì—ˆìŠµë‹ˆë‹¤\n            </span>\n          </div>\n        </div>\n      </div>\n\n      <div className=\"map-content\">\n        {/* ì™¼ìª½ í•„í„° íŒ¨ë„ */}\n        <div className=\"filter-panel\">\n          <div className=\"filter-header\">\n            <h3>ğŸ½ï¸ ìŒì‹ ì¢…ë¥˜ í•„í„°</h3>\n            <button \n              onClick={toggleAllCategories}\n              className=\"toggle-all-btn\"\n            >\n              {selectedCategories.length === categories.length ? 'ì „ì²´ í•´ì œ' : 'ì „ì²´ ì„ íƒ'}\n            </button>\n          </div>\n          <div className=\"category-filters\">\n            {categories.map(category => (\n              <button\n                key={category}\n                onClick={() => toggleCategory(category)}\n                className={`category-filter-btn ${selectedCategories.includes(category) ? 'active' : ''}`}\n              >\n                {getCategoryIcon(category)} {category}\n              </button>\n            ))}\n          </div>\n          \n\n          \n          {/* ì„ íƒëœ ë§›ì§‘ ì •ë³´ */}\n          {selectedRestaurant && (\n            <div className=\"selected-restaurant-info\">\n              <h4>ğŸ“‹ ì„ íƒëœ ë§›ì§‘</h4>\n              <div className=\"restaurant-card\">\n                <h5>{selectedRestaurant.name}</h5>\n                <p className=\"restaurant-category\">{selectedRestaurant.category}</p>\n                <div className=\"restaurant-rating\">\n                  <span className=\"stars\">\n                    {renderStars(selectedRestaurant.rating)}\n                  </span>\n                  <span className=\"rating-text\">{selectedRestaurant.rating}</span>\n                </div>\n                <p className=\"restaurant-description\">{selectedRestaurant.description}</p>\n                <div className=\"restaurant-details\">\n                  <p>ğŸ“ {selectedRestaurant.address}</p>\n                  <p>ğŸ’° {selectedRestaurant.price}</p>\n                  <p>ğŸ•’ {selectedRestaurant.businessHours}</p>\n                  <p>ğŸ“ {selectedRestaurant.phone}</p>\n                  <p>ğŸš— {selectedRestaurant.parking}</p>\n                </div>\n                <div className=\"restaurant-actions\">\n                  <button \n                    className={`favorite-btn ${isInFavorites(selectedRestaurant.id) ? 'favorited' : ''}`}\n                    onClick={() => {\n                      if (isInFavorites(selectedRestaurant.id)) {\n                        removeFromFavorites(selectedRestaurant.id);\n                        alert('ì°œ ëª©ë¡ì—ì„œ ì œê±°ë˜ì—ˆìŠµë‹ˆë‹¤! ğŸ‘‹');\n                      } else {\n                        addToFavorites(selectedRestaurant);\n                        alert('ì°œ ëª©ë¡ì— ì¶”ê°€ë˜ì—ˆìŠµë‹ˆë‹¤! ğŸ‰');\n                      }\n                    }}\n                  >\n                    {isInFavorites(selectedRestaurant.id) ? 'â¤ï¸ ì°œë¨' : 'ğŸ¤ ì°œí•˜ê¸°'}\n                  </button>\n                </div>\n              </div>\n            </div>\n          )}\n        </div>\n        \n        {/* ì˜¤ë¥¸ìª½ ì§€ë„ */}\n        <div className=\"map-section\">\n          <div id=\"map\" style={{ width: '100%', height: '100%' }}></div>\n          \n          {/* ì§€ë„ ìœ„ ìœ„ì¹˜ ë²„íŠ¼ ì˜¤ë²„ë ˆì´ */}\n          <div className=\"map-location-overlay\">\n            <button \n              className={`location-btn ${isLoadingLocation ? 'loading' : ''}`}\n              onClick={getUserLocation}\n              disabled={isLoadingLocation}\n            >\n              {isLoadingLocation ? 'ğŸ“ ìœ„ì¹˜ í™•ì¸ ì¤‘...' : 'ğŸ“ ë‚´ ìœ„ì¹˜ë¡œ ì´ë™'}\n            </button>\n          </div>\n          \n          {/* ë¯¸ë‹ˆ íŒì—… */}\n          {miniPopup && (\n            <div \n              className=\"mini-popup\"\n              style={{\n                left: `${popupPosition.x}px`,\n                top: `${popupPosition.y}px`\n              }}\n              onMouseDown={handleMouseDown}\n              onMouseMove={handleMouseMove}\n              onMouseUp={handleMouseUp}\n              onMouseLeave={handleMouseUp}\n            >\n              <div className=\"mini-popup-header\">\n                <h4>{miniPopup.name}</h4>\n                <button \n                  className=\"close-popup-btn\"\n                  onClick={() => setMiniPopup(null)}\n                >\n                  âœ•\n                </button>\n              </div>\n              \n              <div className=\"mini-popup-content\">\n                <div className=\"mini-popup-rating\">\n                  <div className=\"stars\">\n                    {renderStars(miniPopup.rating)}\n                  </div>\n                  <span className=\"rating-text\">{miniPopup.rating}</span>\n                </div>\n                \n                <div className=\"mini-popup-info\">\n                  <p className=\"category\">ğŸ½ï¸ {miniPopup.category}</p>\n                  <p className={`business-status ${isCurrentlyOpen(miniPopup.businessHours) ? 'open' : 'closed'}`}>\n                    {isCurrentlyOpen(miniPopup.businessHours) ? 'ğŸŸ¢ ì˜ì—… ì¤‘' : 'ğŸ”´ ì˜ì—… ì¢…ë£Œ'}\n                  </p>\n                </div>\n                \n                <div className=\"mini-popup-actions\">\n                  <button \n                    className={`favorite-btn ${isInFavorites(miniPopup.id) ? 'favorited' : ''}`}\n                    onClick={() => {\n                      if (isInFavorites(miniPopup.id)) {\n                        removeFromFavorites(miniPopup.id);\n                        alert('ì°œ ëª©ë¡ì—ì„œ ì œê±°ë˜ì—ˆìŠµë‹ˆë‹¤! ğŸ‘‹');\n                      } else {\n                        addToFavorites(miniPopup);\n                        alert('ì°œ ëª©ë¡ì— ì¶”ê°€ë˜ì—ˆìŠµë‹ˆë‹¤! ğŸ‰');\n                      }\n                      setMiniPopup(null);\n                    }}\n                  >\n                    {isInFavorites(miniPopup.id) ? 'â¤ï¸ ì°œë¨' : 'ğŸ¤ ì°œí•˜ê¸°'}\n                  </button>\n                  <button \n                    className=\"detail-btn\"\n                    onClick={() => {\n                      setDetailModal(miniPopup);\n                      setMiniPopup(null);\n                    }}\n                  >\n                    ğŸ“‹ ìƒì„¸ë³´ê¸°\n                  </button>\n                </div>\n              </div>\n            </div>\n          )}\n        </div>\n      </div>\n      \n      {/* ìƒì„¸ì •ë³´ ëª¨ë‹¬ */}\n      {detailModal && (\n        <RestaurantDetailModal\n          restaurant={detailModal}\n          onClose={() => setDetailModal(null)}\n        />\n      )}\n    </div>\n  );\n}\n\nexport default KakaoMap; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}